query rooms {
  rooms {
    ...RoomFields
  }
}

query room($roomId: ID!) {
  room(roomId: $roomId) {
    ...RoomFields
  }
}

query roomMessages($roomId: ID!) {
  roomMessages(roomId: $roomId) {
    ...RoomMessageFields
  }
}

mutation createRoom($input: RoomCreateInput!) {
  createRoom(input: $input) {
    ...RoomFields
  }
}

mutation toggleMediaStatus($input: mediaStatusChangeInput!) {
  toggleMediaStatus(input: $input)
}

mutation createRoomMessage($input: RoomMessageCreateInput!) {
  createRoomMessage(input: $input)
}

subscription roomMediaStatusChanged($roomId: ID!) {
  roomMediaStatusChanged(roomId: $roomId) {
    mediaStatus
  }
}

subscription roomCreated {
  roomCreated {
    ...RoomFields
  }
}

subscription roomMessageCreated($roomId: ID!) {
  roomMessageCreated(roomId: $roomId) {
    ...RoomMessageFields
  }
}

subscription roomMessageDeleted($roomId: ID!) {
  roomMessageDeleted(roomId: $roomId) {
    ...RoomMessageFields
  }
}

fragment RoomMessageFields on RoomMessage {
  id
  content
  createdAt
  author {
    id
    name
    profile {
      id
      name
      avatar
    }
  }
}

fragment RoomFields on Room {
  id
  createdAt
  name
  currentMedia
  mediaStatus
  author {
    id
    name
    profile {
      id
      name
      avatar
    }
  }
  members {
    id
    name
    profile {
      id
      name
      avatar
    }
  }
  messages {
    id
    createdAt
    author {
      id
      name
      profile {
        id
        name
        avatar
      }
    }
    content
  }
}
